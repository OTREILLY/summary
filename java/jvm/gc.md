## java虚拟机垃圾回收

### 导读
1. 垃圾回收
2. 对象
3. HotSpot中对象可达性分析

---

#### 1.垃圾回收
自动管理回收不再被引用的内存数据。 </br>

#### 2.对象
垃圾收集器在进行回收之前，要确定堆中的对象，哪些还“存活”： </br>
1）引用计数算法  </br>
  给对象添加一个引用计数器，每当一个引用指向它，计数器加1；当引用失效，计数器减1；任何时刻，计数器的值为0，则认为对象是不再被引用的。 </br>
  问题：循环引用的问题；开销大，频繁、且大量的引用变化，带来大量的额外运算。 </br>
2）可达性分析算法 </br>
  “GC Roots”对象作为起点，向下搜索，形成引用链；当一个对象到“GC Roots”没有任何引用链相连时，则认为该对象不可用了。 </br>
  “GC Roots”对象： </br>
  问题：实现复杂，分析大量数据，消耗大量时间，造成GC停顿。  </br>
3）对象的引用 </br> 
  强引用 </br>
  软引用 </br>
  弱引用 </br>
  虚引用 </br>
4）判断对象是否是死亡 </br>
  两次标记： </br>
    - 从“GC Roots”开始进行可达性分析，对不可达的对象进行第一次标记，并进行一次筛选，判断是否必要执行对象的finalize()方法，没有覆盖对象finalize()或该方法已经调用过一次，认为该对象是死亡的；否则加将该对象加入F-Q队列</br>
    - GC对F-Q队列进行第二次小规模标记 </br>
    
    
   
